<% include templates/sidebar %>
<% include templates/topbar %>
<% include templates/footer %>
            <!-- End Navbar -->
            <div class="panel-header panel-header-sm">
            </div> 
            <div class="content">
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-category">Offenses And Penalties</h5>
                                <h4 class="card-title"></h4>
                            </div>
                            <div class="card-body">
                                <table id="datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                                    <thead class=" text-primary">
                                        <th>Name</th>
                                        <th>Classification</th>
                                        <th>Offense</th>
                                        <th>Amount of Penalty</th>
                                    </thead>
                                    <tbody>
                                    <% console.log( "PENALTIESSSS: ", penalties ) %>
                                    <% console.log( "TERMINATION: ", termination ) %>
                                    <% console.log( "FOR REPAIR: ", for_repair ) %>
                                    <% penalties.forEach( cur => { %>
                                    <tr>
                                        <td><%= cur.driver_ln + ", " + cur.driver_fn + " " + cur.driver_mn %></td>
                                        <td><%= cur.offensecat_desc %></td>
                                        <td><%= cur.offense_no %></td>                                        
                                        <td><%= cur.penalty_id <= 3? "": cur.penalty_amount %></td>
                                    </tr>
                                    <% }) %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-category">Offenses And Penalties (For Termination)</h5>
                                <h4 class="card-title"></h4>
                            </div>
                            <div class="card-body">
                                <table id="datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                                    <thead class=" text-primary">
                                        <th hidden>ID</th>
                                        <th>Name</th>
                                    </thead>
                                    <tbody>
                                    <% termination.forEach( cur => { %>
                                    <tr>
                                        <td hidden></td>
                                        <td><%= cur.driver_ln + ", " + cur.driver_fn + " " + cur.driver_mn %></td>
                                    </tr>
                                    <% }) %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-category">For Repair</h5>
                                <h4 class="card-title"></h4>
                            </div>
                            <div class="card-body">
                                <table id="data-table" class="table table-striped " cellspacing="0" width="100%">
                                    <thead class=" text-primary">
                                        <th>Deadline</th>
                                        <th>Unit Type</th>
                                        <th>Plate Number</th>
                                    </thead>
                                    <tbody>
                                    <% for_repair.forEach( cur => { %>
                                    <tr>
                                        <td hidden></td>
                                        <% date = !cur.for_repairs_deadline? "N/A": cur.for_repairs_deadline.toDateString() %>
                                        <td><%= date %></td>
                                        <td><%= cur.unittype_desc %></td>
                                        <td><%= cur.unitplate_no %></td>
                                    </tr>
                                    <% }) %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>                    
                </div>
            </div>
            <footer class="footer">
                <div class="container-fluid">
        
                </div>
            </footer>
        </div>
    </div>
<script src="/assets/demo/demo.js"></script>
<script>
    $(document).ready(function() {
        // Javascript method's body can be found in assets/js/demos.js
        demo.initDashboardPageCharts();
    });
</script>    
<script>
    $(document).ready(function(){
        var $this = $(this)
        $('#dashboard').addClass('active');
    })
    </script>
</body>